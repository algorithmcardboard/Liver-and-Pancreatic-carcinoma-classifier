
New python executable in .venv/bin/python
Installing setuptools, pip...done.
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.
  InsecurePlatformWarning
You are using pip version 6.1.1, however version 7.1.2 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
Collecting cycler==0.9.0 (from -r requirements.txt (line 1))
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:79: InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.
  InsecurePlatformWarning
  Using cached cycler-0.9.0-py2.py3-none-any.whl
Collecting matplotlib==1.5.0 (from -r requirements.txt (line 2))
  Using cached matplotlib-1.5.0.tar.gz
Requirement already satisfied (use --upgrade to upgrade): numpy==1.10.1 in /share/apps/numpy/1.10.1/intel/lib/python2.7/site-packages (from -r requirements.txt (line 3))
Collecting pandas==0.17.1 (from -r requirements.txt (line 4))
  Using cached pandas-0.17.1.tar.gz
Collecting pyparsing==2.0.6 (from -r requirements.txt (line 5))
  Using cached pyparsing-2.0.6-py2.py3-none-any.whl
Collecting python-dateutil==2.4.2 (from -r requirements.txt (line 6))
  Using cached python_dateutil-2.4.2-py2.py3-none-any.whl
Collecting pytz==2015.7 (from -r requirements.txt (line 7))
  Using cached pytz-2015.7-py2.py3-none-any.whl
Collecting scikit-learn==0.17 (from -r requirements.txt (line 8))
  Using cached scikit-learn-0.17.tar.gz
Requirement already satisfied (use --upgrade to upgrade): scipy==0.16.0 in /share/apps/scipy/0.16.0/intel/lib/python2.7/site-packages (from -r requirements.txt (line 9))
Collecting six==1.10.0 (from -r requirements.txt (line 10))
  Using cached six-1.10.0-py2.py3-none-any.whl
Collecting sklearn==0.0 (from -r requirements.txt (line 11))
  Using cached sklearn-0.0.tar.gz
Requirement already satisfied (use --upgrade to upgrade): virtualenv==12.1.1 in /share/apps/virtualenv/12.1.1/lib/python2.7/site-packages/virtualenv-12.1.1-py2.7.egg (from -r requirements.txt (line 12))
Installing collected packages: six, cycler, python-dateutil, pytz, pyparsing, matplotlib, pandas, scikit-learn, sklearn
  Running setup.py install for matplotlib
  Running setup.py install for pandas
  Running setup.py install for scikit-learn
  Running setup.py install for sklearn
Successfully installed cycler-0.9.0 matplotlib-1.5.0 pandas-0.17.1 pyparsing-2.0.6 python-dateutil-2.4.2 pytz-2015.7 scikit-learn-0.17 six-1.10.0 sklearn-0.0
Script start at  2015-12-20T18:32:57.727183
Fitting 10 folds for each of 114 candidates, totalling 1140 fits
Memmaping (shape=(468, 485577), dtype=float64) to new file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.001953125, pca__n_components=4 ..................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.00390625, pca__n_components=4 ...................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.0078125, pca__n_components=4 ....................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.0078125, pca__n_components=4 ....................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.0078125, pca__n_components=4 ....................
Memmaping (shape=(468, 485577), dtype=float64) to old file /dev/shm/joblib_memmaping_pool_29214_47726850826832/29214-47040656-46575984-0.pkl
Pickling array (shape=(468,), dtype=float64).
Pickling array (shape=(562,), dtype=int64).
Pickling array (shape=(63,), dtype=int64).
[CV] svm_linear__C=0.0078125, pca__n_components=4 ....................
Traceback (most recent call last):
  File "pipeline/svml_cancer_type.py", line 35, in <module>
    gs.fit(X_train, Y_train1)
  File "/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/grid_search.py", line 804, in fit
    return self._fit(X, y, ParameterGrid(self.param_grid))
  File "/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/grid_search.py", line 553, in _fit
    for parameters in parameter_iterable
  File "/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py", line 812, in __call__
    self.retrieve()
  File "/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py", line 762, in retrieve
    raise exception
sklearn.externals.joblib.my_exceptions.JoblibIndexError: JoblibIndexError
___________________________________________________________________________
Multiprocessing exception:
...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/pipeline/svml_cancer_type.py in <module>()
     30 cval=[2**-9, 2**-8, 2**-7, 2**-6, 2**-5, 2**-4, 2**-3, 2**-2, 2**-1, 2**0, 2**1, 2**2, 2**3, 2**4, 2**5, 2**6, 2**7, 2**8, 2**9]
     31 
     32 pca_val=[4,20,92,255,361,513]
     33 
     34 gs=GridSearchCV(pipe, dict(pca__n_components=pca_val, svm_linear__C=cval), cv=StratifiedShuffleSplit(Y[:,1],random_state=30), n_jobs=12, verbose=100)
---> 35 gs.fit(X_train, Y_train1)
     36 
     37 score=gs.score(X_test, Y_test1)
     38 
     39 print score

...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/grid_search.py in fit(self=GridSearchCV(cv=StratifiedShuffleSplit(labels=[ ...2*n_jobs', refit=True, scoring=None, verbose=100), X=array([[ 0.46583327,  0.        ,  0.        , ....  0.96757002,
         0.5108778 ,  0.64223003]]), y=array([ 0.,  1.,  0.,  0.,  1.,  0.,  1.,  1.,  ...0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  1.]))
    799         y : array-like, shape = [n_samples] or [n_samples, n_output], optional
    800             Target relative to X for classification or regression;
    801             None for unsupervised learning.
    802 
    803         """
--> 804         return self._fit(X, y, ParameterGrid(self.param_grid))
        self._fit = <bound method GridSearchCV._fit of GridSearchCV(...*n_jobs', refit=True, scoring=None, verbose=100)>
        X = array([[ 0.46583327,  0.        ,  0.        , ....  0.96757002,
         0.5108778 ,  0.64223003]])
        y = array([ 0.,  1.,  0.,  0.,  1.,  0.,  1.,  1.,  ...0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  1.])
        self.param_grid = {'pca__n_components': [4, 20, 92, 255, 361, 513], 'svm_linear__C': [0.001953125, 0.00390625, 0.0078125, 0.015625, 0.03125, 0.0625, 0.125, 0.25, 0.5, 1, 2, 4, 8, 16, 32, 64, 128, 256, 512]}
    805 
    806 
    807 class RandomizedSearchCV(BaseSearchCV):
    808     """Randomized search on hyper parameters.

...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/grid_search.py in _fit(self=GridSearchCV(cv=StratifiedShuffleSplit(labels=[ ...2*n_jobs', refit=True, scoring=None, verbose=100), X=array([[ 0.46583327,  0.        ,  0.        , ....  0.96757002,
         0.5108778 ,  0.64223003]]), y=array([ 0.,  1.,  0.,  0.,  1.,  0.,  1.,  1.,  ...0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  1.]), parameter_iterable=<sklearn.grid_search.ParameterGrid object>)
    548         )(
    549             delayed(_fit_and_score)(clone(base_estimator), X, y, self.scorer_,
    550                                     train, test, self.verbose, parameters,
    551                                     self.fit_params, return_parameters=True,
    552                                     error_score=self.error_score)
--> 553                 for parameters in parameter_iterable
        parameters = undefined
        parameter_iterable = <sklearn.grid_search.ParameterGrid object>
    554                 for train, test in cv)
    555 
    556         # Out is a list of triplet: score, estimator, n_test_samples
    557         n_fits = len(out)

...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=Parallel(n_jobs=12), iterable=<generator object <genexpr>>)
    807             if pre_dispatch == "all" or n_jobs == 1:
    808                 # The iterable was consumed all at once by the above for loop.
    809                 # No need to wait for async callbacks to trigger to
    810                 # consumption.
    811                 self._iterating = False
--> 812             self.retrieve()
        self.retrieve = <bound method Parallel.retrieve of Parallel(n_jobs=12)>
    813             # Make sure that we get a last message telling us we are done
    814             elapsed_time = time.time() - self._start_time
    815             self._print('Done %3i out of %3i | elapsed: %s finished',
    816                         (len(self._output), len(self._output),

---------------------------------------------------------------------------
Sub-process traceback:
---------------------------------------------------------------------------
IndexError                                         Sun Dec 20 18:33:03 2015
PID: 29215Python 2.7.6: /scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/bin/python
...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.pyc in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
     67     def __init__(self, iterator_slice):
     68         self.items = list(iterator_slice)
     69         self._size = len(self.items)
     70 
     71     def __call__(self):
---> 72         return [func(*args, **kwargs) for func, args, kwargs in self.items]
     73 
     74     def __len__(self):
     75         return self._size
     76 

...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/cross_validation.pyc in _fit_and_score(estimator=Pipeline(steps=[('pca', PCA(copy=True, n_compone...e, shrinking=True,
  tol=0.001, verbose=False))]), X=memmap([[ 0.46583327,  0.        ,  0.        , ...  0.96757002,
         0.5108778 ,  0.64223003]]), y=array([ 0.,  1.,  0.,  0.,  1.,  0.,  1.,  1.,  ...0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  1.]), scorer=<function _passthrough_scorer>, train=array([366, 166, 567, 236, 565, 307, 459, 174, 2..., 560, 129, 505, 282, 609,
       524, 570, 426]), test=array([152, 550, 331, 470, 523, 441, 270, 207, 4...99, 388, 503, 397, 545, 591, 126, 186, 257, 469]), verbose=100, parameters={'pca__n_components': 4, 'svm_linear__C': 0.001953125}, fit_params={}, return_train_score=False, return_parameters=True, error_score='raise')
   1519     if parameters is not None:
   1520         estimator.set_params(**parameters)
   1521 
   1522     start_time = time.time()
   1523 
-> 1524     X_train, y_train = _safe_split(estimator, X, y, train)
   1525     X_test, y_test = _safe_split(estimator, X, y, test, train)
   1526 
   1527     try:
   1528         if y_train is None:

...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/cross_validation.pyc in _safe_split(estimator=Pipeline(steps=[('pca', PCA(copy=True, n_compone...e, shrinking=True,
  tol=0.001, verbose=False))]), X=memmap([[ 0.46583327,  0.        ,  0.        , ...  0.96757002,
         0.5108778 ,  0.64223003]]), y=array([ 0.,  1.,  0.,  0.,  1.,  0.,  1.,  1.,  ...0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  1.]), indices=array([366, 166, 567, 236, 565, 307, 459, 174, 2..., 560, 129, 505, 282, 609,
       524, 570, 426]), train_indices=None)
   1586             if train_indices is None:
   1587                 X_subset = X[np.ix_(indices, indices)]
   1588             else:
   1589                 X_subset = X[np.ix_(indices, train_indices)]
   1590         else:
-> 1591             X_subset = safe_indexing(X, indices)
   1592 
   1593     if y is not None:
   1594         y_subset = safe_indexing(y, indices)
   1595     else:

...........................................................................
/scratch/ac5901/Pancreatic-carcinoma-classifier/run-7313029/.venv/lib/python2.7/site-packages/sklearn/utils/__init__.pyc in safe_indexing(X=memmap([[ 0.46583327,  0.        ,  0.        , ...  0.96757002,
         0.5108778 ,  0.64223003]]), indices=array([366, 166, 567, 236, 565, 307, 459, 174, 2..., 560, 129, 505, 282, 609,
       524, 570, 426]))
    158             return X.copy().iloc[indices]
    159     elif hasattr(X, "shape"):
    160         if hasattr(X, 'take') and (hasattr(indices, 'dtype') and
    161                                    indices.dtype.kind == 'i'):
    162             # This is often substantially faster than X[indices]
--> 163             return X.take(indices, axis=0)
    164         else:
    165             return X[indices]
    166     else:
    167         return [X[idx] for idx in indices]

IndexError: index 567 is out of bounds for size 468
___________________________________________________________________________






